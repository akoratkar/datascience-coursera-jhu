setwd("C:/Users/an260736/myassignments/datascience/k125-datascience-jhu/5-research/project-2")
suppressWarnings(library(lubridate)) ##Required for date manipulation
suppressWarnings(library(reshape2)) ##For melt and cast
suppressWarnings(library(lattice)) ##Will use Lattice Graphing system for the last plot
suppressWarnings(suppressMessages(library(dplyr)))##Required to mutate
suppressWarnings(library(xtable)) ##To output tables
##Download and unzip the data file
zippeddataURL<-("https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2FStormData.csv.bz2")
##Download the Zip File only if it is not already there.
zippeddatafile <-"StormData.csv.bz2"
if (!file.exists(zippeddatafile)){
download.file(zippeddataURL, zippeddatafile)
dateDownloaded<-date()
}
##Now read the file in with the right parameters.
stormdata <-read.table(zippeddatafile, header=TRUE, sep=",", na.strings="NA",
stringsAsFactors=FALSE)
##Total number of entries
entries<-nrow(stormdata) ##902297. So file read correctly.
##Let us first see how many unique event types are in the storm data
eventtypesindata<-unique(stormdata$EVTYPE)
x<-stormdata$EVTYPE[which(stormdata$EVTYPE=="TORNADO")]
x
length(x)
y<-stormdata$EVTYPE[which(stormdata$EVTYPE=="TORNADO")]
y<-grep("^TORNADO", stormdata$EVTYPE, ignore.case=T)
y
length[y)]
length[y)
length(y)
stormdata$EVTYPE[y]
stormdata$EVTYPE[y]<-"TORNADO"
x<-stormdata$EVTYPE[which(stormdata$EVTYPE=="TORNADO")]
length(x)
stormdata$EVTYPE[which(stormdata$EVTYPE=="FOG")]<-"Freezing Fog"
stormdata$EVTYPE[grep("^TSTM WIND",stormdata$EVTYPE, ignore.case=T)]<- "Thunderstorm Wind"
